---
import "../styles/global.css";
import BaseLayout from "../layout/BaseLayout.astro";
import BlogPost from "../components/BlogPost.astro";
const pageTitle = "Claude Mapara";
const heading = "All things engineering & tech";
const allPosts = Object.values(
  import.meta.glob("./posts/*.md", { eager: true })
);
---

<BaseLayout pageTitle={pageTitle}>
  <section class='posts'>
    <h3>{heading}</h3>
    <table class='blog-table'>
      <tbody>
        {
          allPosts.map((post: any) => (
            <tr class='blog-row'>
              <td class='post-title'>
                <a href={post.url}>{post.frontmatter.title}</a>   
              </td>
              <td class='post-date'>
                <time datetime={post.frontmatter.pubDate}>
                  {new Date(post.frontmatter.pubDate).toLocaleDateString("en-GB", {
                    day: "numeric",
                    month: "long",
                    year: "numeric",
                  })}
                </time>
              </td>
            </tr>
          ))
        }
      </tbody>
    </table>
  </section>
</BaseLayout>
